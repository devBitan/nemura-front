import{A as B,_ as E,u as I,a as N,B as D,k as H,C as $,r as j,o as m,c as v,b as s,t as w,w as M,v as R,d as _,D as A,f as F,F as G,x as L,n as T,p as V,g as z,j as q}from"./index-ByhVBaDz.js";const{httpGet:J,httpPost:de,httpDelete:ue,httpPut:he,httpPatchHeaders:K,httpGetHeaders:O,httpPostHeaders:Q,httpPutHeaders:_e,httpDeletetHeaders:W}=B(),u="v1/";function X(){async function l(){let r=await J(u+"projects");return console.log(r),r}async function o(r){return await O(u+"projects/ByUserId/"+r)}return{getProject:l,postProject:async r=>await Q(u+"projects",r),patchProject:async(r,i)=>await K(u+"projects/"+r,i),deleteProject:async r=>await W(u+"projects/"+r),getProjectsByIdUser:o}}const c=l=>(V("data-v-e1fc7242"),l=l(),z(),l),Y=c(()=>s("img",{src:q,alt:""},null,-1)),Z=c(()=>s("span",{class:"material-icons"},"keyboard_double_arrow_right",-1)),ee=[Z],se=c(()=>s("h3",null,"Projects",-1)),te=c(()=>s("span",{class:"material-icons"},"add_circle",-1)),oe=["onClick"],re=c(()=>s("span",{class:"material-icons"},"spa",-1)),ae={class:"text"},ne=["onClick"],ce=c(()=>s("div",{class:"flex"},null,-1)),le=c(()=>s("span",{class:"text"}," Logout",-1)),ie={__name:"Navbar",setup(l){const o=I(),P=N();D();const{getProject:y,postProject:g,patchProject:r,deleteProject:i,getProjectsByIdUser:h}=X(),f=H(()=>o.user.name);$(async()=>{p=o.user.id;let a=await h(p);d.value=a,console.log("porjectos del user:",d.value)});let p=j();const d=j([]);let n=j("");const k=()=>{o.isExpanded=!o.isExpanded},x=(a,e)=>{P.push({path:`/dashboard/${e}`}),o.idProject=a,o.nameProject=e},b=async()=>{console.log(o.user),o.user=null,o.user="",console.log(o.user),location.replace("/")},C=async()=>{let a={name:n.value,userId:p};console.log(a);try{let e=await g(a);console.log("Proyecto creado",e);let t=await h(p);d.value=t,n.value=""}catch(e){console.error("Error al crear proyecto",e)}};async function S(a){console.log(a);try{let e=await i(a);if(console.log(e),e){let t=await h(p);d.value=t}}catch(e){console.error("Error eliminando la tarea:",e)}}return(a,e)=>(m(),v("aside",{class:T({"is-expanded":_(o).isExpanded})},[s("div",{class:"logo",onClick:e[0]||(e[0]=t=>a.$router.push({path:"/dashboard"}))},[Y,s("p",null," Hi! "+w(f.value),1)]),s("div",{class:"menu-toggle-wrap"},[s("div",{class:"menu-toggle",onClick:k},ee)]),se,s("form",{action:"",onSubmit:e[2]||(e[2]=F(t=>C(_(n)),["prevent"])),onClick:e[3]||(e[3]=t=>_(o).isExpanded=!0),class:"formProject"},[M(s("input",{class:"inputProject",type:"text",placeholder:"New Project","onUpdate:modelValue":e[1]||(e[1]=t=>A(n)?n.value=t:n=t)},null,512),[[R,_(n)]]),te],32),(m(!0),v(G,null,L(d.value,t=>(m(),v("div",{class:"menu",key:t.name},[s("div",{class:"button",onClick:U=>x(t.id,t.name)},[re,s("span",ae,w(t.name),1)],8,oe),s("button",{class:"material-icons",onClick:U=>S(t.id)},"delete",8,ne)]))),128)),ce,s("div",{class:"menu"},[s("div",{class:"button"},[s("span",{class:"material-icons",onClick:b},"logout"),le])])],2))}},je=E(ie,[["__scopeId","data-v-e1fc7242"]]);export{je as N};
